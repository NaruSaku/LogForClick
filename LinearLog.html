<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Linear Log</title>
    <link rel="shortcut icon" href="favicon.ico">
    <!---CSS Files-->
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/tables.css">
    <!---jQuery Files-->
    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="js/jquery-ui-1.8.17.min.js"></script>
    <script src="js/styler.js"></script>
    <script src="js/jquery.tipTip.js"></script>
    <script src="js/colorpicker.js"></script>
    <script src="js/sticky.full.js"></script>
    <script src="js/global.js"></script>
    <script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>

    <script src="js/VisitCollect.js"></script>
    <script src="js/LogShow.js"></script>
    <script src="js/check.js"></script>
    <script src="js/cookie.js"></script>
    <script src="js/log4javascript.js"></script>
    <script src="js/log4jsService.js"></script>
    <link href="css/jquery.dataTables.min.css" rel="stylesheet" type="text/css"/>

    <!---Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lte IE 8]>
    <script language="javascript" type="text/javascript" src="js/flot/excanvas.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="container-fluid navigation"></div>
<div class="top-bar">
    <ul id="nav">
        <li>
            <ul id="top-nav">
                <li class="nav-item">
                    <a href="LoginLog.html"><img src="img/nav/tb.png" alt="" /><p>Login Log</p></a>
                </li>
                <li class="nav-item">
                    <a href="LoginLogAnalytics.html"><img src="img/nav/anlt.png" alt="" /><p>LoginLog Analytics</p></a>
                </li>
                <li class="nav-item">
                    <a href="SystemLog.html"><img src="img/nav/tb.png" alt="" /><p>System Log</p></a>
                </li>
                <li class="nav-item">
                    <a href="SystemLogAnalytics.html"><img src="img/nav/anlt.png" alt="" /><p>SystemLog Analytics</p></a>
                </li>
                <li class="nav-item">
                    <a href="VisitLog.html"><img src="img/nav/tb.png" alt="" /><p>Visit Log</p></a>
                </li>
                <li class="nav-item">
                    <a href="VisitLogAnalytics.html"><img src="img/nav/anlt.png" alt="" /><p>VisitLog Analytics</p></a>
                </li>
                <li class="nav-item">
                    <a href="#"><img src="img/nav/tb.png" alt="" /><p>Operation Log</p></a>
                    <ul class="sub-nav">
                        <li><a href="LinearLog.html">Linear</a></li>
                        <li><a href="VolcanoLog.html">Volcano</a></li>
                        <li><a href="MountainLog.html">Mountain</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="#"><img src="img/nav/anlt.png" alt="" /><p>OperationLog Analytics</p></a>
                    <ul class="sub-nav">
                        <li><a href="LinearLogAnalytics.html">Linear Analytics</a></li>
                        <li><a href="VolcanoLogAnalytics.html">Volcano Analytics</a></li>
                        <li><a href="MountainLogAnalytics.html">Mountain Analytics</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>
<!--- CONTENT AREA -->
<div class="content container_12">
    <div class="box grid_12 search_input4">
        <table>
            <tr>
                <td>Account:</td>
                <td>
                    <input type="text" name="account4"  id="account" onblur="checkAccount()">
                </td>
                <td>IP:&nbsp&nbsp <input type="text" name="ip4"  id="ip" onblur="checkIP()">
                </td>
                <td>BeginDate:</td>
                <td>
                    <input type="date" name="beginDate4" id="beginDate" onblur="checkDate()">
                </td>
                <td>
                    EndDate:&nbsp
                </td>
                <td>
                    <input type="date" name="endDate4" id="endDate" onblur="checkDate()">
                </td>
            </tr>
            <tr>
                <td>
                    <select name="cancerType4" id="cancerType" >
                        <option value="All">-CancerType-</option>
                    </select>
                </td>
                <td>
                    <select name="dataType4" id="dataType">
                        <option value="All">-dataType-X-</option>
                        <option value="e">mRNA expression</option>
                        <option value="c">Copy number variations</option>
                        <option value="m">Methylation values</option>
                        <option value="mu">mutations</option>
                    </select>
                </td>
                <td>
                    <select name="dataType24" id="dataType2">
                        <option value="All">-dataType-Y-</option>
                        <option value="e">mRNA expression</option>
                        <option value="c">Copy number variations</option>
                        <option value="m">Methylation values</option>
                        <option value="mu">mutations</option>
                    </select>
                </td>
                <td>
                    <select name="sampleType4" id="sampleType">
                        <option value="All">-SampleType-</option>
                        <option value="t">Tumor</option>
                        <option value="n">Normal</option>
                    </select>
                </td>
                <td>
                    <!--这个SQL语句要模糊查询！！-->
                    <input type="text" name="geneName4" id="geneName" tipMsg="基因名：如，AQP7P1" >
                </td>
                <td>
                    <select name="isLog4" id="isLog">
                        <option value="All">-log-</option>
                        <option value="l">Yes</option>
                        <option value="y">No</option>
                    </select>
                </td>
                <td>
                    <button id="showTable" class="input-head">Search</button>
                </td>
            </tr>
        </table>
        <!--默认灰色框-->
        <script>
            $(function(){
                inputTipText();  //初始化Input的灰色提示信息
            });
        </script>
    </div>
    <div class="box grid_12">
        <div class="box-head"><h2>Linear Log Data Table</h2></div>
        <div class="box-content no-pad">
            <table id="dt3" class="display">
                <thead>
                <tr>
                    <th class="NO4" ></th>
                    <th class="Rank4" ></th>
                    <th class="Account4" ></th>
                    <th class="IP4" ></th>
                    <th class="Time4" ></th>
                    <th class="CancerType4" ></th>
                    <th class="GeneName4" ></th>
                    <th class="DataType_X4"></th>
                    <th class="DataType_Y4" ></th>
                    <th class="SampleType4" ></th>
                    <th class="IsLog4" ></th>
                </tr>
                </thead>
                <tfoot>
                <tr>
                    <th class="NO4" ></th>
                    <th class="Rank4" ></th>
                    <th class="Account4" ></th>
                    <th class="IP4" ></th>
                    <th class="Time4" ></th>
                    <th class="CancerType4" ></th>
                    <th class="GeneName4" ></th>
                    <th class="DataType_X4"></th>
                    <th class="DataType_Y4" ></th>
                    <th class="SampleType4" ></th>
                    <th class="IsLog4" ></th>
                </tr>
                </tfoot>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="footer">
    <p>Powered by ClickGwas</p>
</div>

<script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
<script>
    var cip = returnCitySN["cip"];
    var city = returnCitySN["cname"];
    city=isChinese(city);
</script>
<script>
    function collectArgs() {
        addCookie("token","122334234fsdafdsf",1);
        var token = getCookie("token");   //  在本地中禁止获取cookies，所以先用字符串代替
        token = "122334234fsdafdsf";

        var account = $("#account").val().trim();
        var ip = $("#ip").val().trim();
        var beginDate = ChangeIntoMilliSeconds($("#beginDate").val());
        var endDate = ChangeIntoMilliSeconds($("#endDate").val());
        var cancerType = $("#cancerType").val();
        var sampleType = $("#sampleType").val();
        var dataType = $("#dataType").val();
        var dataType2 = $("#dataType2").val();
        var geneName = ($("#geneName").val().trim()=="基因名：如，AQP7P1")?"":$("#geneName").val().trim();
        var isLog = $("#isLog").val();

        var originArgs=[account,ip,beginDate,endDate,cancerType,geneName,dataType,dataType2,sampleType,isLog,token];
        return originArgs;
    }
    document.onkeydown = function (event) {
        var e = event || window.event || arguments.callee.caller.arguments[0];
        if (e && e.keyCode == 13) {
            var type = "table";    //   用来标识绘制图的类型
            args=collectArgs();
            args.unshift(type);
            log.Operate.getLogData(args);
        }
    };
    $("#showTable").click(function () {
        var type = "table";    //   用来标识绘制图的类型
        args=collectArgs();
        args.unshift(type);
        log.Operate.getLogData(args);
    });
</script>
<script>
    for (var i = 0; i < cancer_arr.length; i++) {
        var r = /\[(.+?)\]/;       //正则获取方括号内容并转为小写
        $("#cancerType").append("<option value='" + cancer_arr[i].match(r)[1].toLowerCase() + "'>" + cancer_arr[i].match(r)[1].toLowerCase() + "</option>");
    }
</script>

</body>
</html>
